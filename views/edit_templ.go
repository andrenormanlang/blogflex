// Code generated by templ - DO NOT EDIT.

// templ: version: v0.2.747
package views

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"blogflex/internal/models"
	"fmt"
)

func EditPost(post models.Post) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("<!doctype html><html><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Edit Post - BlogFlex</title><link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&amp;display=swap\" rel=\"stylesheet\"><link href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\" rel=\"stylesheet\"><!-- TinyMCE Script --><script src=\"https://cdn.tiny.cloud/1/3ptuccpjxd9qd48kti566c6geohm1x5u2jhrl4szbz9l14ee/tinymce/7/tinymce.min.js\" referrerpolicy=\"origin\"></script><!-- Prism.js for code syntax highlighting --><link href=\"https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-okaidia.css\" rel=\"stylesheet\"><script src=\"https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js\"></script><script src=\"https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-go.min.js\"></script><script src=\"https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js\"></script><style>\r\n\t\t\t\tbody {\r\n\t\t\t\t\tfont-family: 'Inter', sans-serif;\r\n\t\t\t\t\tbackground-color: #121212;\r\n\t\t\t\t\tcolor: #e0e0e0;\r\n\t\t\t\t}\r\n\t\t\t\t.container {\r\n\t\t\t\t\tmax-width: 1200px;\r\n\t\t\t\t}\r\n\t\t\t\t.card {\r\n\t\t\t\t\tbackground-color: #1e1e1e;\r\n\t\t\t\t\tborder: none;\r\n\t\t\t\t\tbox-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n\t\t\t\t\tborder-radius: 10px;\r\n\t\t\t\t}\r\n\t\t\t\t.card-body {\r\n\t\t\t\t\tpadding: 20px;\r\n\t\t\t\t}\r\n\t\t\t\t.card-title {\r\n\t\t\t\t\tcolor: #bb86fc;\r\n\t\t\t\t}\r\n\t\t\t\t.form-control {\r\n\t\t\t\t\tbackground-color: #2c2c2c;\r\n\t\t\t\t\tborder: none;\r\n\t\t\t\t\tcolor: #e0e0e0;\r\n\t\t\t\t}\r\n\t\t\t\t.form-control:focus {\r\n\t\t\t\t\tbackground-color: #2c2c2c;\r\n\t\t\t\t\tcolor: #e0e0e0;\r\n\t\t\t\t}\r\n\t\t\t\t.btn-primary {\r\n\t\t\t\t\tbackground-color: #bb86fc;\r\n\t\t\t\t\tborder: none;\r\n\t\t\t\t}\r\n\t\t\t\t.btn-primary:hover {\r\n\t\t\t\t\tbackground-color: #3700b3;\r\n\t\t\t\t}\r\n\t\t\t\t/* Style for code blocks in TinyMCE */\r\n\t\t\t\t.mce-content-body pre {\r\n\t\t\t\t\tbackground-color: #2c2c2c;\r\n\t\t\t\t\tborder: 1px solid #444;\r\n\t\t\t\t\tborder-radius: 4px;\r\n\t\t\t\t\tpadding: 10px;\r\n\t\t\t\t\tcolor: #e0e0e0;\r\n\t\t\t\t\tfont-family: 'Courier New', Courier, monospace;\r\n\t\t\t\t\tline-height: 1.5;\r\n\t\t\t\t\twhite-space: pre-wrap;\r\n\t\t\t\t}\r\n\t\t\t\t.mce-content-body pre code {\r\n\t\t\t\t\tbackground: transparent;\r\n\t\t\t\t\tcolor: #e0e0e0;\r\n\t\t\t\t\tfont-family: 'Courier New', Courier, monospace;\r\n\t\t\t\t}\r\n\t\t\t\t/* Minimize visual impact of divs */\r\n\t\t\t\t.mce-content-body div {\r\n\t\t\t\t\tborder: none !important;\r\n\t\t\t\t}\r\n\t\t\t\t/* Ensure TinyMCE toolbar is visible */\r\n\t\t\t\t.tox-tinymce {\r\n\t\t\t\t\tz-index: 1000 !important;\r\n\t\t\t\t}\r\n\t\t\t\t/* Optional: Add min-height to textarea for consistency */\r\n\t\t\t\t#title {\r\n\t\t\t\t\tmin-height: 60px; /* Minimum height for the textarea */\r\n\t\t\t\t}\r\n\t\t\t</style></head><body><div class=\"container mt-5\"><div class=\"row justify-content-center\"><div class=\"col-md-12\"><div class=\"card shadow-sm\"><div class=\"card-body\"><form id=\"edit-post-form\" hx-post=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var2 string
		templ_7745c5c3_Var2, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("/protected/posts/%d/edit", post.ID))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/edit.templ`, Line: 97, Col: 92}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var2))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("\" hx-redirect=\"true\" hx-target=\"#response-message\" hx-swap=\"innerHTML\" method=\"POST\"><div class=\"form-group\"><label for=\"title\">Title</label> <textarea id=\"title\" name=\"title\" rows=\"2\" class=\"form-control\" style=\"height: 50px; min-height: 60px;\" required>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var3 string
		templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(post.Title)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/edit.templ`, Line: 100, Col: 135}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("</textarea></div><div class=\"form-group\"><label for=\"content\">Content</label> <textarea id=\"content\" name=\"content\" rows=\"10\" class=\"form-control\" required>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var4 string
		templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(post.Content)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/edit.templ`, Line: 104, Col: 102}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("</textarea></div><div class=\"text-center\"><button type=\"submit\" class=\"btn btn-primary\">Update Post</button></div></form><div id=\"response-message\" class=\"mt-4\"></div></div></div></div></div></div><script>\r\n\t\t\t\twindow.onload = function() {\r\n\t\t\t\t\tconsole.log(\"Window loaded, initializing TinyMCE...\");\r\n\r\n\t\t\t\t\t// Initialize content editor\r\n\t\t\t\t\ttinymce.init({\r\n\t\t\t\t\t\tselector: '#content',\r\n\t\t\t\t\t\tplugins: 'anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount code',\r\n\t\t\t\t\t\ttoolbar: 'undo redo | codesample | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | code | removeformat',\r\n\t\t\t\t\t\tfontsize_formats: '8pt 10pt 12pt 14pt 18pt 24pt 36pt',\r\n\t\t\t\t\t\tcodesample_languages: [\r\n\t\t\t\t\t\t\t{ text: 'Text', value: 'text' },\r\n\t\t\t\t\t\t\t{ text: 'HTML/XML', value: 'markup' },\r\n\t\t\t\t\t\t\t{ text: 'JavaScript', value: 'javascript' },\r\n\t\t\t\t\t\t\t{ text: 'CSS', value: 'css' },\r\n\t\t\t\t\t\t\t{ text: 'Go', value: 'go' },\r\n\t\t\t\t\t\t\t{ text: 'Python', value: 'python' },\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tcodesample_global_prismjs: true,\r\n\t\t\t\t\t\tforced_root_block: 'p',\r\n\t\t\t\t\t\tverify_html: false,\r\n\t\t\t\t\t\tcleanup: false,\r\n\t\t\t\t\t\tvalid_elements: 'p,br,strong/em,b/i,ul/ol/li,a[href],pre/code[class|data-mce-type],img[src|alt|width|height],table,thead,tbody,tr,th,td,span[style]',\r\n\t\t\t\t\t\tpaste_preprocess: function(plugin, args) {\r\n\t\t\t\t\t\t\targs.content = args.content.replace(/<div>/gi, '<p>').replace(/<\\/div>/gi, '</p>');\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tinit_instance_callback: function(editor) {\r\n\t\t\t\t\t\t\tvar content = editor.getContent();\r\n\t\t\t\t\t\t\tcontent = content.replace(/<div>/gi, '<p>').replace(/<\\/div>/gi, '</p>');\r\n\t\t\t\t\t\t\teditor.setContent(content);\r\n\t\t\t\t\t\t\tconsole.log(\"Content editor initialized successfully.\");\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcontent_style: 'body { font-family: Inter, sans-serif; background-color: #1e1e1e; color: #e0e0e0; } ' +\r\n\t\t\t\t\t\t\t'pre { background-color: #2c2c2c; border: 1px solid #444; border-radius: 4px; padding: 10px; color: #e0e0e0; font-family: \"Courier New\", Courier, monospace; line-height: 1.5; white-space: pre-wrap; } ' +\r\n\t\t\t\t\t\t\t'pre code { background: transparent; color: #e0e0e0; font-family: \"Courier New\", Courier, monospace; } ' +\r\n\t\t\t\t\t\t\t'div { margin: 0; padding: 0; }',\r\n\t\t\t\t\t\tskin: window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"oxide-dark\" : \"\",\r\n\t\t\t\t\t\tcontent_css: window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"\",\r\n\t\t\t\t\t\theight: 400,\r\n\t\t\t\t\t\tsetup: function(editor) {\r\n\t\t\t\t\t\t\teditor.on('change', function(e) {\r\n\t\t\t\t\t\t\t\teditor.save();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).then(function(editors) {\r\n\t\t\t\t\t\tconsole.log(\"TinyMCE content editor initialized:\", editors);\r\n\t\t\t\t\t}, function(error) {\r\n\t\t\t\t\t\tconsole.error(\"TinyMCE content editor failed to initialize:\", error);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Initialize title editor\r\n\t\t\t\t\ttinymce.init({\r\n\t\t\t\t\t\tselector: '#title',\r\n\t\t\t\t\t\tplugins: 'autolink emoticons link wordcount',\r\n\t\t\t\t\t\ttoolbar: 'undo redo | fontfamily fontsize | bold italic underline | align lineheight | removeformat',\r\n\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\tstatusbar: true,\r\n\t\t\t\t\t\tcontent_style: 'body { font-family: Inter, sans-serif; background-color: #2c2c2c; color: #e0e0e0; }',\r\n\t\t\t\t\t\tskin: window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"oxide-dark\" : \"\",\r\n\t\t\t\t\t\tcontent_css: window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"\",\r\n\t\t\t\t\t\theight: 100,\r\n\t\t\t\t\t\tmin_height: 60, // Set minimum height for the TinyMCE editor\r\n\t\t\t\t\t\tsetup: function(editor) {\r\n\t\t\t\t\t\t\teditor.on('change', function(e) {\r\n\t\t\t\t\t\t\t\teditor.save();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).then(function(editors) {\r\n\t\t\t\t\t\tconsole.log(\"TinyMCE title editor initialized:\", editors);\r\n\t\t\t\t\t}, function(error) {\r\n\t\t\t\t\t\tconsole.error(\"TinyMCE title editor failed to initialize:\", error);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tdocument.getElementById('edit-post-form').addEventListener('submit', function(e) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tconst titleContent = tinymce.get('title') ? tinymce.get('title').getContent() : document.getElementById('title').value;\r\n\t\t\t\t\t\tconst contentContent = tinymce.get('content') ? tinymce.get('content').getContent() : document.getElementById('content').value;\r\n\t\t\t\t\t\tif (titleContent === '' || contentContent === '') {\r\n\t\t\t\t\t\t\talert('Both Title and Content are required.');\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdocument.getElementById('title').value = titleContent;\r\n\t\t\t\t\t\tdocument.getElementById('content').value = contentContent;\r\n\t\t\t\t\t\tconst form = this;\r\n\t\t\t\t\t\tconst formData = new FormData(form);\r\n\t\t\t\t\t\tfetch(form.getAttribute('hx-post'), {\r\n\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\tbody: formData,\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\t\tif (response.ok) {\r\n\t\t\t\t\t\t\t\tconst redirectUrl = response.headers.get('HX-Redirect');\r\n\t\t\t\t\t\t\t\tif (redirectUrl) {\r\n\t\t\t\t\t\t\t\t\twindow.location.href = redirectUrl;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\treturn response.text().then(text => {\r\n\t\t\t\t\t\t\t\t\t\tdocument.getElementById('response-message').innerHTML = text || 'Post updated successfully!';\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn response.text().then(text => {\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById('response-message').innerHTML = text || 'Failed to update post.';\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\t\tconsole.error('Error:', error);\r\n\t\t\t\t\t\t\tdocument.getElementById('response-message').innerHTML = 'An error occurred while updating the post.';\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t</script><script src=\"https://unpkg.com/htmx.org@2.0.0/dist/htmx.min.js\"></script></body></html>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return templ_7745c5c3_Err
	})
}
